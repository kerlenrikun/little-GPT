# é£ä¹¦å¤šç»´è¡¨æ ¼é›†æˆæŒ‡å—

## ğŸ¯ åŠŸèƒ½æ¦‚è¿°

æœ¬æŒ‡å—è¯¦ç»†è¯´æ˜å¦‚ä½•å°†star_claudeåº”ç”¨çš„æ³¨å†Œé¡µé¢ä¸é£ä¹¦å¤šç»´è¡¨æ ¼è¿›è¡Œé›†æˆï¼Œå®ç°ç”¨æˆ·æ³¨å†Œæ•°æ®çš„è‡ªåŠ¨å­˜å‚¨ã€‚

## ğŸ“‹ å‰ç½®æ¡ä»¶

1. **é£ä¹¦å¼€æ”¾å¹³å°è´¦å·**
2. **å·²åˆ›å»ºçš„å¤šç»´è¡¨æ ¼**
3. **Flutterå¼€å‘ç¯å¢ƒ**

## ğŸ› ï¸ é…ç½®æ­¥éª¤

### 1. è·å–é£ä¹¦APIå‡­è¯

#### è·å– App Token
1. ç™»å½•[é£ä¹¦å¼€æ”¾å¹³å°](https://open.feishu.cn/)
2. è¿›å…¥ä½ çš„åº”ç”¨ç®¡ç†é¡µé¢
3. åœ¨"å‡­è¯ä¸åŸºç¡€ä¿¡æ¯"ä¸­è·å– App ID

#### è·å– Personal Base Token
1. æ‰“å¼€ä½ çš„é£ä¹¦å¤šç»´è¡¨æ ¼
2. ç‚¹å‡»å³ä¸Šè§’"..." -> "ç”ŸæˆAPI token"
3. å¤åˆ¶ç”Ÿæˆçš„token

#### è·å– Table ID
1. æ‰“å¼€ä½ çš„å¤šç»´è¡¨æ ¼
2. åœ¨æµè§ˆå™¨åœ°å€æ ä¸­æŸ¥çœ‹URLï¼Œæ ¼å¼ç±»ä¼¼ï¼š
   `https://example.feishu.cn/base/{appToken}?table={tableId}`
3. å¤åˆ¶ `{tableId}` éƒ¨åˆ†

### 2. é…ç½®åº”ç”¨ä¿¡æ¯

æ‰“å¼€ `lib/core/configs/feishu_config.dart` æ–‡ä»¶ï¼Œæ›¿æ¢ä»¥ä¸‹å¸¸é‡ï¼š

```dart
static const String appToken = 'ä½ çš„AppToken';
static const String personalBaseToken = 'ä½ çš„PersonalBaseToken';
static const String tableId = 'ä½ çš„TableId';
```

### 3. åˆ›å»ºå¤šç»´è¡¨æ ¼ç»“æ„

åœ¨ä½ çš„é£ä¹¦å¤šç»´è¡¨æ ¼ä¸­åˆ›å»ºä»¥ä¸‹å­—æ®µï¼š

| å­—æ®µå | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| å§“å | æ–‡æœ¬ | ç”¨æˆ·å…¨å |
| æ‰‹æœºå· | æ–‡æœ¬ | ç”¨æˆ·æ‰‹æœºå·ç  |
| å¯†ç  | æ–‡æœ¬ | ç”¨æˆ·å¯†ç ï¼ˆå»ºè®®åŠ å¯†å­˜å‚¨ï¼‰ |
| æ³¨å†Œæ—¶é—´ | æ—¥æœŸæ—¶é—´ | ç”¨æˆ·æ³¨å†Œæ—¶é—´ |

### 4. è¿è¡Œåº”ç”¨

```bash
flutter pub get
flutter run
```

## ğŸ“ æ–‡ä»¶ç»“æ„

```
lib/
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â””â”€â”€ user_model.dart          # ç”¨æˆ·æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ repository/
â”‚   â”‚   â””â”€â”€ user_repository.dart     # ç”¨æˆ·ä»“åº“
â”‚   â””â”€â”€ sources/
â”‚       â””â”€â”€ feishu_api_service.dart  # é£ä¹¦APIæœåŠ¡
â”œâ”€â”€ core/
â”‚   â””â”€â”€ configs/
â”‚       â””â”€â”€ feishu_config.dart      # é£ä¹¦é…ç½®
â””â”€â”€ presentation/
    â””â”€â”€ auth/
        â””â”€â”€ pages/
            â””â”€â”€ signup.dart          # æ³¨å†Œé¡µé¢ï¼ˆå·²é›†æˆï¼‰
```

## ğŸ”§ æ ¸å¿ƒåŠŸèƒ½

### 1. ç”¨æˆ·æ³¨å†Œ
- æ”¶é›†ç”¨æˆ·ä¿¡æ¯ï¼ˆå§“åã€æ‰‹æœºå·ã€å¯†ç ï¼‰
- éªŒè¯æ‰‹æœºå·æ˜¯å¦å·²æ³¨å†Œ
- å°†æ•°æ®å­˜å‚¨åˆ°é£ä¹¦å¤šç»´è¡¨æ ¼
- æä¾›å®æ—¶åé¦ˆå’Œé”™è¯¯å¤„ç†

### 2. æ•°æ®æŸ¥è¯¢
- æ”¯æŒæŒ‰æ‰‹æœºå·æŸ¥è¯¢ç”¨æˆ·
- æ”¯æŒæ‰¹é‡æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·
- æ”¯æŒæ¡ä»¶è¿‡æ»¤å’Œæ’åº

### 3. é”™è¯¯å¤„ç†
- ç½‘ç»œè¯·æ±‚å¼‚å¸¸å¤„ç†
- APIå“åº”é”™è¯¯å¤„ç†
- ç”¨æˆ·è¾“å…¥éªŒè¯

## ğŸš€ ä½¿ç”¨ç¤ºä¾‹

### åŸºæœ¬æ³¨å†Œ
```dart
final user = UserModel(
  fullName: 'å¼ ä¸‰',
  phoneNumber: '13800138000', 
  password: 'password123',
);

final result = await userRepository.registerUser(user);
if (result['success']) {
  print('æ³¨å†ŒæˆåŠŸ');
} else {
  print('æ³¨å†Œå¤±è´¥: ${result['message']}');
}
```

### æ£€æŸ¥æ‰‹æœºå·
```dart
final isRegistered = await userRepository.isPhoneNumberRegistered('13800138000');
print('æ‰‹æœºå·å·²æ³¨å†Œ: $isRegistered');
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **å®‰å…¨æ€§**ï¼šåœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå¯†ç åº”è¯¥åŠ å¯†å­˜å‚¨
2. **ç½‘ç»œè¿æ¥**ï¼šç¡®ä¿è®¾å¤‡æœ‰ç¨³å®šçš„ç½‘ç»œè¿æ¥
3. **APIé™åˆ¶**ï¼šæ³¨æ„é£ä¹¦APIçš„è°ƒç”¨é¢‘ç‡é™åˆ¶
4. **é”™è¯¯å¤„ç†**ï¼šå¦¥å–„å¤„ç†å„ç§å¼‚å¸¸æƒ…å†µ
5. **ç”¨æˆ·ä½“éªŒ**ï¼šæä¾›é€‚å½“çš„åŠ è½½çŠ¶æ€å’Œåé¦ˆ

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **HTTP 401é”™è¯¯**ï¼šæ£€æŸ¥API tokenæ˜¯å¦æ­£ç¡®
2. **HTTP 403é”™è¯¯**ï¼šæ£€æŸ¥åº”ç”¨æƒé™è®¾ç½®
3. **HTTP 404é”™è¯¯**ï¼šæ£€æŸ¥appTokenå’ŒtableIdæ˜¯å¦æ­£ç¡®
4. **ç½‘ç»œè¿æ¥é”™è¯¯**ï¼šæ£€æŸ¥è®¾å¤‡ç½‘ç»œè¿æ¥

### è°ƒè¯•å»ºè®®

1. å¯ç”¨Flutterçš„è°ƒè¯•æ¨¡å¼
2. æŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºçš„è¯¦ç»†é”™è¯¯ä¿¡æ¯
3. ä½¿ç”¨Postmanæµ‹è¯•é£ä¹¦APIæ¥å£
4. æ£€æŸ¥é£ä¹¦å¼€æ”¾å¹³å°çš„APIè°ƒç”¨æ—¥å¿—

## ğŸ“ˆ æ‰©å±•åŠŸèƒ½

### æ‰¹é‡æ“ä½œ
æ”¯æŒæ‰¹é‡æ³¨å†Œç”¨æˆ·å’Œæ‰¹é‡æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯

### æ•°æ®åŒæ­¥
å¯ä»¥å®ç°æœ¬åœ°ç¼“å­˜å’Œè¿œç¨‹åŒæ­¥æœºåˆ¶

### ç»Ÿè®¡åˆ†æ
åŸºäºå¤šç»´è¡¨æ ¼çš„æ•°æ®è¿›è¡Œç”¨æˆ·è¡Œä¸ºåˆ†æ

## ğŸ“ æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·å‚è€ƒï¼š
- [é£ä¹¦å¼€æ”¾å¹³å°æ–‡æ¡£](https://open.feishu.cn/document/ukTMukTMukTM/uETMzUjLxEzM14SMxMTN)
- [Flutter HTTPæ–‡æ¡£](https://pub.dev/packages/http)
- [å¤šç»´è¡¨æ ¼APIæ–‡æ¡£](https://open.feishu.cn/document/server-docs/docs/bitable-v1)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ã€‚